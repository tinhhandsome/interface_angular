<!-- #region Bảng con danh sách user nhận thông báo -->

<div class="editable-title-group">
    <h5 class="popup-title col-md-12">{{l("RoleNotification")}}</h5>
    <div class="action-button">
        <button type="button" [disabled]="disableInput" class="btn btn-primary" (click)="userModal.show();"><i class="pi pi-plus"></i>{{l("Add")}}</button>
        <button type="button" [disabled]="disableInput" class="btn btn-danger" (click)="editTableRoleNotification.removeAllCheckedItem()"><i
                    class="pi pi-times"></i>{{l("Delete")}}</button>
    </div>
</div>

<div class="primeng-datatable-container">
    <editable-table (onSort)="updateView()" #editTableRoleNotification class="custom-table ui-table">
        <thead>
            <tr>
                <!-- Checkbox -->
                <th>
                    <span style="width: 40px"><checkbox-control [disabled]="disableInput" (onchange)="editTableRoleNotification.checkAll($event.target.checked)" [checked]="editTableRoleNotification.isCheckAll"></checkbox-control></span>
                </th>
                <!-- STT -->
                <th class="center"><span style="width: 40px">{{l("No")}}</span></th>
                <!-- Tên user -->
                <th style="width:50%" sortField="tlFullName"><span style="width: 300px">{{l("NameUser")}}</span></th>
                <!-- Ghi chú -->
                <th style="width:50%" sortField="notes"><span style="width: 400px">{{l("Notes")}}</span></th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let item of editTableRoleNotification.dataInPage; let in = index" [hidden]="item.page != editTableRoleNotification.currentPage">
                <!-- Checkbox -->
                <td>
                    <span class="mo-header"></span>
                    <checkbox-control [disabled]="disableInput" (onchange)="item.isChecked = $event.target.checked" [checked]="item['isChecked']"></checkbox-control>
                </td>
                <!-- STT -->
                <td class="center"><span class="mo-header"></span>{{item.no}}</td>
                <!-- Tên user -->
                <td><span class="mo-header"></span>{{item.tlFullName}}</td>
                <!-- Ghi chú -->
                <td><span class="mo-header"></span>
                    <textarea [disabled]="disableInput" name="notes-{{in}}-3" class="form-control transparent" min="0" [(ngModel)]="item.notes"></textarea>
                </td>
            </tr>
        </tbody>
    </editable-table>
</div>

<!-- #endregion -->

<user-modal (onSelect)="onSelectUser($event)" #userModal></user-modal>